{"version":3,"sources":["../../src/js/smith.js"],"names":["Craft","Smith","$","Init","Garnish","Base","extend","init","options","requestAnimationFrame","proxy","$matrixFields","$doc","find","i","length","$matrixField","$matrixBlocks","j","$matrixBlock","$settingsBtn","menuBtn","data","Menu","on","MatrixInput","this","blockAdded","e","target","$container","$block","menu","$deleteOption","parents","$copyBtn","t","$pasteBtn","$cloneBtn","insertBefore","wrap","addOptions","checkPaste","onOptionSelect","$option","selectedOption","hasClass","copyBlock","pasteBlock","cloneBlock","canPaste","JSON","parse","localStorage","getItem","fieldHandle","attr","replace","field","enable","disable","_serializeBlocks","setItem","stringify","count","blocks","message","cp","displayNotice","n","$blockContainer","$spinner","insertAfter","matrixField","$insertBefore","each","index","element","nextBlock","postActionRequest","response","textStatus","success","block","originalBlock","blockTypesByHandle","typeHandle","$newBlock","addBlock","remove","_countInstances","string","word","split","$selectedItems","blockSelect","$blockItem","postData","getPostData","params","fields","expandPostArray","isNested","paramHandle","outerFieldHandle","outerBlockId","blockId","push","jQuery"],"mappings":"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"}