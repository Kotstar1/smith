{"version":3,"sources":["../../src/js/smith.js"],"names":["Craft","Smith","$","Init","Garnish","Base","extend","smithMenus","init","options","requestAnimationFrame","proxy","$matrixFields","$doc","find","i","length","$matrixField","$matrixBlocks","j","$matrixBlock","$settingsBtn","menuBtn","data","this","push","Menu","on","MatrixInput","SuperTable","MatrixInputAlt","blockAdded","e","target","$container","$block","each","index","menu","$deleteOption","parents","$copyBtn","t","$pasteBtn","$cloneBtn","insertBefore","wrap","addOptions","checkPaste","onMenuShow","onOptionSelect","$option","selectedOption","hasClass","copyBlock","pasteBlock","cloneBlock","canPaste","JSON","parse","localStorage","getItem","fieldHandle","attr","includes","field","enable","disable","_serializeBlocks","setItem","stringify","count","blocks","message","cp","displayNotice","n","$blockContainer","$spinner","insertAfter","matrixField","$insertBefore","element","nextBlock","placeholderKey","settings","postActionRequest","response","textStatus","success","block","originalBlock","blockTypesByHandle","typeHandle","$newBlock","addBlock","remove","namespace","$selectedItems","blockSelect","$blockItem","postData","getPostData","levelsDeep","isNested","parsedPostData","paramHandle","parsedHandle","replace","match","params","expandPostArray","fields","blockId","filterBlocks","object","self","filter","el","sortOrder","Object","keys","forEach","item","Array","isArray","jQuery"],"mappings":"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"}